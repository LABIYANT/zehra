<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>Seni Seviyorum Zehra</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Playfair+Display:wght@400;700&family=Open+Sans:wght@400;700&display=swap" rel="stylesheet">

<style>
    body, html {
        height: 100%;
        margin: 0;
        overflow: hidden;
        background: linear-gradient(-45deg, #ff9a9e, #fad0c4, #ffd1ff, #fbc2eb);
        background-size: 400% 400%;
        animation: gradientBG 15s ease infinite;
        font-family: 'Open Sans', sans-serif;
        color: white;
        user-select: none;
        -webkit-tap-highlight-color: transparent;
    }

    @keyframes gradientBG {
        0% { background-position: 0% 50%; }
        50% { background-position: 100% 50%; }
        100% { background-position: 0% 50%; }
    }

    .container {
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        height: 100%;
        text-align: center;
        padding: 20px;
        position: relative;
        z-index: 10;
        cursor: pointer;
    }

    h1 {
        margin: 0;
        text-shadow: 2px 2px 5px rgba(0,0,0,0.2); /* GÃ¶lgeyi hafiflettim */
        transition: opacity 0.3s ease, font-size 0.3s ease; /* SÃ¼reyi kÄ±salttÄ±m */
        line-height: 1.4;
        opacity: 1;
        font-weight: 700;
        will-change: opacity, transform; /* Performans ipucu */
    }

    .fade-out {
        opacity: 0;
    }

    /* Kalp Stili */
    .heart {
        position: absolute;
        bottom: -50px;
        background-color: rgba(255, 255, 255, 0.6);
        display: inline-block;
        height: 30px;
        margin: 0 10px;
        width: 30px;
        transform: rotate(-45deg);
        z-index: 1;
        pointer-events: none;
        will-change: transform;
    }

    .heart:before, .heart:after {
        content: "";
        background-color: rgba(255, 255, 255, 0.6);
        border-radius: 50%;
        height: 30px;
        position: absolute;
        width: 30px;
    }

    .heart:before { top: -15px; left: 0; }
    .heart:after { left: 15px; top: 0; }

    @keyframes floatUp {
        0% { transform: translateY(0) rotate(-45deg) scale(0.8); opacity: 1; }
        100% { transform: translateY(-110vh) rotate(-45deg) scale(1.2); opacity: 0; }
    }

    /* Ã‡iÃ§ek Stili - Optimize Edildi */
    .flower {
        position: absolute;
        font-size: 2rem;
        pointer-events: none;
        z-index: 20;
        /* will-change: transform GPU'ya iÅŸi devreder */
        will-change: transform, opacity; 
        animation: bloomAndFade 1.2s ease-out forwards; /* SÃ¼reyi biraz kÄ±salttÄ±m */
    }

    @keyframes bloomAndFade {
        0% { 
            transform: scale(0); 
            opacity: 0; 
        }
        40% { 
            transform: scale(1.5); 
            opacity: 1; 
        }
        100% { 
            transform: scale(1.8) translateY(-50px); 
            opacity: 0; 
        }
    }

    .hint {
        position: absolute;
        bottom: 30px;
        font-size: 14px;
        font-family: 'Montserrat', sans-serif;
        opacity: 0.7;
        animation: pulse 2s infinite;
    }

    @keyframes pulse {
        0% { opacity: 0.4; }
        50% { opacity: 1; }
        100% { opacity: 0.4; }
    }

</style>
</head>
<body>

<audio id="bg-music" loop></audio>

<div class="container" id="click-area">
    <h1 id="main-message">SENÄ° SEVÄ°YORUM ZEHRA</h1>
    <div class="hint" id="hint-text">Devam etmek iÃ§in ekrana dokun...</div>
</div>

<script>
const mainMsg = document.getElementById('main-message');
const hintText = document.getElementById('hint-text');
const clickArea = document.getElementById('click-area');

const mainMessages = [
    "SENÄ° SEVÄ°YORUM ZEHRA",
    "Kalbimin Tek Sahibi Zehra",
    "Seninle Sonsuza Kadar Zehra",
    "Ä°yi ki VarsÄ±n Sevgilim",
    "GÃ¶zlerinde Kaybolmak Ä°stiyorum",
    "Sen Benim En GÃ¼zel ÅžansÄ±msÄ±n",
    "GÃ¼lÃ¼ÅŸÃ¼n DÃ¼nyamÄ± AydÄ±nlatÄ±yor",
    "Senin GÃ¶tÃ¼nÃ¼ Yerim Zehram",
    "HayatÄ±mÄ±n AnlamÄ± Sensin",
    "Seninle Her Åžey Ã‡ok Daha GÃ¼zel",
    "Kalbimin Ritmi Senin AdÄ±nla AtÄ±yor",
    "Sen Benim En GÃ¼zel Melodimsin",
    "GeleceÄŸe Seninle BakÄ±yorum",
    "Sen Benim En DeÄŸerli Hazinemsin",
    "YanÄ±nda Kendimi Evimde Hissediyorum",
    "Her Yeni GÃ¼n Seninle Bir Macera",
    "Kalbimin En Derin KÃ¶ÅŸesi Senin",
    "Sen Benim En GÃ¼zel Hikayemsin",
    "DÃ¼nyadaki En BÃ¼yÃ¼k ÅžansÄ±m Sensin",
    "Seni Her GÃ¼n Daha Ã‡ok Seviyorum",
    "Zehra, Sen Benim Her Åžeyimsin"
];

const flowers = ['ðŸŒ¹', 'ðŸŒ·', 'ðŸŒ»', 'ðŸŒ¼', 'ðŸŒ¸', 'ðŸŒº', 'ðŸ’', 'ðŸ’®', 'ðŸª·'];

const fontFamilies = [
    "'Playfair Display', serif", 
    "'Montserrat', sans-serif",   
    "'Open Sans', sans-serif"     
];

let msgIdx = 0;
let isFirstClick = true;
let lastClickTime = 0;
let clickCombo = 0;

// PERFORMANS LÄ°MÄ°TLERÄ°
const MAX_FLOWERS_ON_SCREEN = 40; // Ekranda aynÄ± anda en fazla bu kadar Ã§iÃ§ek olabilir

clickArea.addEventListener('click', (e) => {
    
    const currentTime = Date.now();
    const timeDiff = currentTime - lastClickTime;
    lastClickTime = currentTime;

    if (timeDiff < 300) {
        clickCombo++;
    } else {
        clickCombo = 0;
    }

    // Optimize edilmiÅŸ patlama
    if (clickCombo > 1) {
        createFullScreenFlowers(); 
    } else {
        createSingleFlower(e.clientX, e.clientY); 
    }

    if (isFirstClick) {
        hintText.style.display = 'none';
        isFirstClick = false;
    }

    // YazÄ± deÄŸiÅŸimini de biraz yavaÅŸlatarak CPU'yu rahatlatabiliriz
    // Sadece fade-out animasyonu bitmiÅŸse deÄŸiÅŸtir
    if(!mainMsg.classList.contains('fade-out')) {
         changeMessage();
    }
    
    // Kalp patlamasÄ± (sayÄ±sÄ±nÄ± azalttÄ±m performans iÃ§in)
    createBurstHearts();
});

function changeMessage() {
    mainMsg.classList.add('fade-out');
    setTimeout(() => {
        msgIdx = (msgIdx + 1) % mainMessages.length;
        mainMsg.textContent = mainMessages[msgIdx];
        const randomFont = fontFamilies[Math.floor(Math.random() * fontFamilies.length)];
        mainMsg.style.fontFamily = randomFont;
        adjustFontSize();
        mainMsg.classList.remove('fade-out');
    }, 300);
}

function createSingleFlower(x, y) {
    spawnFlowerElement(x, y);
}

function createFullScreenFlowers() {
    // OPTÄ°MÄ°ZASYON: 30 yerine 10 tane oluÅŸturuyoruz.
    // Seri tÄ±klandÄ±ÄŸÄ± iÃ§in bu sayÄ± zaten saniyede 40-50'ye Ã§Ä±kacaktÄ±r.
    const flowerCount = 10; 
    
    for(let i = 0; i < flowerCount; i++) {
        const randomX = Math.random() * window.innerWidth;
        const randomY = Math.random() * window.innerHeight;
        
        // Gecikmeyi kaldÄ±rdÄ±m, anlÄ±k gelsin, setTimeout iÅŸlemciyi yorar
        spawnFlowerElement(randomX, randomY);
    }
}

function spawnFlowerElement(x, y) {
    // OPTÄ°MÄ°ZASYON: EÄŸer ekranda Ã§ok fazla Ã§iÃ§ek varsa yenisini ekleme
    const existingFlowers = document.getElementsByClassName('flower');
    if (existingFlowers.length >= MAX_FLOWERS_ON_SCREEN) {
        // Ä°stersen en eskisini silip yenisini ekleyebilirsin ama
        // hiÃ§ eklememek en performanslÄ±sÄ±dÄ±r.
        // Veya en eskiyi silelim ki akÄ±ÅŸ durmasÄ±n:
        existingFlowers[0].remove();
    }

    const randomFlower = flowers[Math.floor(Math.random() * flowers.length)];
    const flowerEl = document.createElement('div');
    flowerEl.classList.add('flower');
    flowerEl.innerText = randomFlower;
    
    flowerEl.style.left = x + 'px';
    flowerEl.style.top = y + 'px';
    
    // Rastgele dÃ¶ndÃ¼rme aÃ§Ä±sÄ±nÄ± CSS ile deÄŸil JS ile verince bazen daha hÄ±zlÄ± olur
    // ama burada CSS animasyonu yeterli.
    
    const randomScale = 0.8 + Math.random() * 1.2; 
    flowerEl.style.fontSize = (2 * randomScale) + "rem";

    document.body.appendChild(flowerEl);
    
    // Temizlik sÃ¼resini kÄ±salttÄ±m (1.2sn)
    setTimeout(() => {
        flowerEl.remove();
    }, 1200);
}

function adjustFontSize() {
    const length = mainMsg.textContent.length;
    let size;
    if (length < 15) size = "12vw";
    else if (length < 25) size = "8vw";
    else size = "6vw";
    mainMsg.style.fontSize = size;
}

function createHeart() {
    // Arka plan kalpleri de optimize edelim, Ã§ok birikmesin
    if (document.getElementsByClassName('heart').length > 15) return;

    const heart = document.createElement('div');
    heart.classList.add('heart');
    heart.style.left = Math.random() * 100 + "vw";
    heart.style.animation = `floatUp ${Math.random() * 3 + 4}s ease-out forwards`;
    
    const colors = ["rgba(255, 255, 255, 0.6)", "rgba(255, 182, 193, 0.6)", "rgba(255, 105, 180, 0.5)"];
    heart.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];

    document.body.appendChild(heart);
    setTimeout(() => {
        heart.remove();
    }, 7000);
}

function createBurstHearts() {
    // TÄ±klama baÅŸÄ±na 2 kalp yeterli
    for(let i=0; i<2; i++) { 
        createHeart(); // Timeout kullanmadan direkt Ã§aÄŸÄ±rdÄ±m
    }
}

setInterval(createHeart, 800); // Arka plan kalp Ã¼retimini yavaÅŸlattÄ±m
mainMsg.style.fontFamily = "'Playfair Display', serif";
adjustFontSize();

</script>
</body>
</html>
